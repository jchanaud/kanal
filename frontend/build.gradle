plugins {
    id("org.siouan.frontend-jdk21") version "10.0.0"
}
frontend {
    nodeVersion = "22.18.0"
    assembleScript = "run build"
}

tasks.named('installFrontend') {
    inputs.files('package.json', 'package-lock.json')
    outputs.dir('node_modules')
}

tasks.named('assembleFrontend') {
    inputs.dir('src')
    outputs.dir('dist')
}

tasks.register('copyClientResources', Copy) {
    group = 'frontend'
    description = 'Copy client resources into build resources directory'

    dependsOn('assembleFrontend')

    from("dist")
    into("../build/resources/main/ui/")
}